<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{base}">
<head>
    <title>Change Password - StreetFoodGo</title>
</head>
<body>
<div layout:fragment="main" class="container mx-auto px-4 py-8">
    <div class="mb-6">
        <a href="/profile#settings" class="text-cyber-blue hover:text-cyber-blue/80 flex items-center gap-2">
            <i class="fas fa-arrow-left"></i>Back to Settings
        </a>
    </div>

    <div class="glass-panel p-8 max-w-2xl mx-auto">
        <h1 class="text-3xl font-bold text-white mb-6">Change Password</h1>

        <div th:if="${errorMessage}" class="bg-red-900/30 border border-red-500 rounded-lg p-4 mb-6 text-red-200" th:text="${errorMessage}"></div>
        <div th:if="${successMessage}" class="bg-green-900/30 border border-green-500 rounded-lg p-4 mb-6 text-green-200" th:text="${successMessage}"></div>

        <form method="post" action="/profile/change-password">
            <!-- CSRF Token -->
            <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>

            <!-- Current Password -->
            <div class="mb-4">
                <label for="currentPassword" class="block text-white font-semibold mb-2">Current Password</label>
                <input type="password" class="quantum-input w-full"
                       id="currentPassword" name="currentPassword" required>
            </div>

            <!-- New Password -->
            <div class="mb-4">
                <label for="newPassword" class="block text-white font-semibold mb-2">New Password</label>
                <input type="password" class="quantum-input w-full"
                       id="newPassword" name="newPassword" required>
            </div>

            <!-- Confirm New Password -->
            <div class="mb-6">
                <label for="confirmPassword" class="block text-white font-semibold mb-2">Confirm New Password</label>
                <input type="password" class="quantum-input w-full"
                       id="confirmPassword" name="confirmPassword" required>
            </div>

            <div class="flex gap-4">
                <button type="submit" class="cyber-button flex-1">
                    <i class="fas fa-save mr-2"></i>Change Password
                </button>
                <a href="/profile#settings" class="flex-1 bg-white/10 hover:bg-white/20 text-white font-bold py-3 px-6 rounded-lg text-center transition-all">
                    Cancel
                </a>
            </div>
        </form>
    </div>
</div>
</body>
</html>
