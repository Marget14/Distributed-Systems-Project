<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{base}">
<head>
    <title>Edit Profile - StreetFoodGo</title>
</head>
<body>
<div layout:fragment="main" class="container mx-auto px-4 py-8">
    <div class="mb-6">
        <a href="/profile" class="text-cyber-blue hover:text-cyber-blue/80 flex items-center gap-2">
            <i class="fas fa-arrow-left"></i>Back to Profile
        </a>
    </div>

    <div class="glass-panel p-8 max-w-2xl">
        <h1 class="text-3xl font-bold text-white mb-6">Edit Profile</h1>

        <div th:if="${errorMessage}" class="bg-red-900/30 border border-red-500 rounded-lg p-4 mb-6 text-red-200" th:text="${errorMessage}"></div>

        <form method="post" action="/profile/edit">
            <!-- CSRF Token -->
            <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>

            <!-- First Name -->
            <div class="mb-4">
                <label for="firstName" class="block text-white font-semibold mb-2">First Name</label>
                <input type="text" class="quantum-input"
                       id="firstName" name="firstName"
                       th:value="${person.firstName}" required>
            </div>

            <!-- Last Name -->
            <div class="mb-4">
                <label for="lastName" class="block text-white font-semibold mb-2">Last Name</label>
                <input type="text" class="quantum-input"
                       id="lastName" name="lastName"
                       th:value="${person.lastName}" required>
            </div>

            <!-- Email (Read-only) -->
            <div class="mb-4">
                <label for="emailAddress" class="block text-white font-semibold mb-2">Email Address</label>
                <input type="email" class="quantum-input opacity-60 cursor-not-allowed"
                       id="emailAddress" name="emailAddress"
                       th:value="${person.emailAddress}" disabled>
                <small class="text-gray-500 mt-1 block">Email cannot be changed</small>
            </div>

            <!-- Phone Number -->
            <div class="mb-6">
                <label for="mobilePhoneNumber" class="block text-white font-semibold mb-2">Phone Number</label>
                <input type="tel" class="quantum-input"
                       id="mobilePhoneNumber" name="mobilePhoneNumber"
                       th:value="${person.mobilePhoneNumber}" required>
            </div>

            <!-- Buttons -->
            <div class="flex gap-3">
                <button type="submit" class="cyber-button">
                    <i class="fas fa-save mr-2"></i>Save Changes
                </button>
                <a href="/profile" class="cyber-button inline-block opacity-60 hover:opacity-80">
                    Cancel
                </a>
            </div>
        </form>
    </div>
</div>
</body>
</html>

